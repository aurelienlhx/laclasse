/* 
 * LaClasse.js for ES 5.1+
 * @author AurÃ©lien Lheureux
 * @see on http://ejohn.org/blog/simple-javascript-inheritance/
 * @licence MIT Licensed
 */
!function(a,b){if("function"==typeof define&&define.amd)define(b);else if("object"==typeof c&&c.exports)c.exports=b(a);else{var c=b(a);a[c.className]=c}}("undefined"!=typeof window?window:this,function(a){"use strict";function b(){throw new Error("LaClasse is not a constructor. Use LaClasse.create() instead.")}b.className="LaClasse",b.constructor=b,b.baseMethods={};var c=function(a){return a.name||a.toString().match(/function\s*(\w*)\s*\(/)[1]||null},d=/\bthis\.parent\b/,e=function(f){function k(a){"function"==typeof a.__parent__&&(a=k(new a.__parent__));for(var b in a)a.hasOwnProperty(b)&&"function"!=typeof a[b]?j[b]=a[b]:h[b]=h.__parent__&&"function"==typeof h.__parent__[b]&&d.test(a[b].toString())?function(a,b){return function(){var c=this.parent;this.parent=h.__parent__[a];var d=b.apply(this,arguments);return this.parent=c,d}}(b,a[b]):a[b]}if("function"!=typeof f)throw new Error("Type function expected for extend");var g=c(f)||"anonymous";f.prototype["static"]=this.prototype["static"]||{};var h=f,i=new(this.className===b.className?function(){}:this),j={};k(i),h.className=g,h.__parent__=this.className===b.className?null:this.prototype,k(new f);var l=function(){for(var a in j)this[a]=j[a];"function"==typeof h.construct&&h.construct.apply(this,arguments),this.fire("created")};h.instanceOf=function(a){for(var b=this;b;){if(b.className===a)return!0;b=this.__parent__}return!1},h.clone=function(){var a=new this.constructor;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a.__proto__=this.__proto__,this.fire("cloned"),a},h.hasProperty=function(a){return this.hasOwnProperty(a)},h.hasStaticProperty=function(a){return void 0!==this["static"][a]},h.hasMethod=function(a){return void 0!==this[a]&&"function"==typeof this[a]};var m=[];h.listen=function(a,b,c){"undefined"==typeof m[a]&&(m[a]=[]),"function"==typeof b&&m[a].push({handler:b,data:c})},h.fire=function(a,b){var c={type:a,target:this,timestamp:(new Date).getTime()},b="object"==typeof b?b:{};for(var d in b)void 0===c[d]&&(c[d]=b[d]);if(m[c.type]instanceof Array)for(var e=m[c.type].length,d=0;e>d;d++)"object"==typeof m[c.type][d].data&&(c.data=m[c.type][d].data),m[c.type][d].handler.call(this,c)};var n="object"==typeof b.baseMethods?b.baseMethods:{};for(var o in n)n.hasOwnProperty(o)&&(h[o]=n[o]);return h.constructor=f,l.prototype=h,l.className=h.className,l.extend=e,"object"==typeof a&&(a[l.className]=l),l};return b.create=e,b});

